<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">


	<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
	<link rel="manifest" href="/favicon/site.webmanifest">

	<title>Archi Portal</title>


	<!-- CSS only -->
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous"> -->

	<link rel="stylesheet" href="css/bootstrap.min.lux.css">


	<style>
		.card-img-top {
			width: 100%;
			height: 7vw;
			object-fit: cover;
		}
	</style>

</head>

<body>

	<div class="container py-3">
		<header>
			<div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom">
				<a href="/" class="d-flex align-items-center text-dark text-decoration-none">
					<img class="mb-2" src="./pics/Bleu_100_100.png" alt="" width="100" height="100">
					<h1 class="fs-4">Archi portal</h1>
				</a>

				<nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
					<a class="me-3 py-2 text-decoration-none" target="_blank" rel="noopener noreferrer"
						href="https://archi-support.pernod-ricard.io/">Support</a>
					<a class="me-3 py-2 text-decoration-none" target="_blank" rel="noopener noreferrer"
						href="https://archi.pernod-ricard.io/">Team</a>
					<a class="me-3 py-2 text-decoration-none" target="_blank" rel="noopener noreferrer"
						href="https://archi.pernod-ricard.wiki/">Wiki</a>
				</nav>
			</div>

			<div class="p-3 pb-md-4 mx-auto text-center">
				<h1 class="display-4 fw-normal">Archi Portal</h1>
				<p class="fs-5 text-muted">Portal with our tools.</p>
			</div>

		</header>

		<main>



			<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
				<symbol id="check" viewBox="0 0 16 16">
					<title>Check</title>
					<path
						d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
				</symbol>
			</svg>




			<div id="content" class="row row-cols-1 row-cols-md-4 mb-3 text-center">



			</div>
			</a>

			<script>

				console.log("START OF THE SCRIPT");

				const card_template = '\
					<div class="col py-3">\
						<div class="card mb-4 rounded-3 shadow-sm h-100">\
							<a href="CARD_LINK" target="_blank" rel="noopener noreferrer">\
								<img src="CARD_IMAGE" class="card-img-top" alt="Illustration">\
							</a>\
							<!--<div class="card-header py-3">\
								<h3 class="my-0 fw-normal">THEME</h3>\
							</div>-->\
							<div class="card-body">\
								<h4 class="card-title">CARD_TITLE</h4>\
								<p>CARD_CONTENT</p>\
								</div>\
								<div class="card-footer">\
									<a class="w-100 btn btn-md btn-outline-primary" href="CARD_LINK" role="button" \
									target="_blank" rel="noopener noreferrer">Link</a>\
            				</div>\
						</div>\
					</div>';

				// This API Key is READONLY, on public data, this is under control	
				const API_KEY = 'keygc919YSkuyLBXY';

				const BASE_ID = 'appEvg4YFC4H2PBUk';

				const TABLE_ID = 'tblJVI7yhYRb59I4I';

				const myHeaders = new Headers();

				myHeaders.append('Content-Type', 'application/json');
				myHeaders.append('Authorization', `Bearer ${API_KEY}`);


				fetch(`https://api.airtable.com/v0/${BASE_ID}/${TABLE_ID}?maxRecords=30&view=Grid%20view`, {
					method: 'GET',
					headers: myHeaders
				})
					.then(res => res.json())
					.then((data) => {

						console.log(data);

						for (var i = 0; i < data.records.length; i += 1) {

							console.log(data.records[i]);

							if (data.records[i]["id"]) {

								document.getElementById("content").innerHTML +=

									card_template.replace("CARD_TITLE", data.records[i].fields["Document"])
										.replace(/CARD_LINK/g, data.records[i].fields.URL)
										.replace("THEME", data.records[i].fields.Team)
										.replace("CARD_CONTENT", data.records[i].fields.Description)
										.replace("CARD_IMAGE", data.records[i].fields.Image[0].thumbnails.large.url)
							}

						}

					});

			</script>



		</main>

		<footer class="pt-4 my-md-5 pt-md-5 border-top">
			<div class="row">
				<div class="col-12 col-md">
					<img class="mb-2" src="./pics/Bleu_100_100.png" alt="" width="100" height="100">
					<small class="d-block mb-3 text-muted">Made by Team Archi</small>
				</div>
				<div class="col-6 col-md">
					<h5>Features</h5>
					<ul class="list-unstyled text-small">
						<li class="mb-1"><a class="text-decoration-none" href="#">Cool stuff</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Random feature</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Team feature</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Stuff for
								developers</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Another one</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Last time</a></li>
					</ul>
				</div>
				<div class="col-6 col-md">
					<h5>Resources</h5>
					<ul class="list-unstyled text-small">
						<li class="mb-1"><a class="text-decoration-none" href="#">Resource</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Resource name</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Another resource</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Final resource</a></li>
					</ul>
				</div>
				<div class="col-6 col-md">
					<h5>About</h5>
					<ul class="list-unstyled text-small">
						<li class="mb-1"><a class="text-decoration-none" href="#">Team</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Locations</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Privacy</a></li>
						<li class="mb-1"><a class="text-decoration-none" href="#">Terms</a></li>
					</ul>
				</div>
			</div>
		</footer>
	</div>



</body>

</html>